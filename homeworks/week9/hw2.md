## 資料庫欄位型態 VARCHAR 跟 TEXT 的差別是什麼

### VARCHAR

資料的最大長度可以設定在 1 ~ 65535 字元之間，適合用於確定資料最大長度的情況，例如：使用者名稱、手機號碼、email 等。可以做為資料庫索引。資料長度在 255 字元以下，欄位所需額外空間為 1 byte；資料長度在 255 字元以上，欄位所需額外空間為 2 bytes。

### TEXT

資料的長度固定為 65535 字元，適合用於資料長度不確定的情況，例如：文章。不能做為資料庫索引。欄位預設佔用 2 bytes 儲存空間。

如果需要儲存的資料更大的話，可以使用 `MEDIUMTEXT` (16 MB) 或 `LONGTEXT` (4 GB)。

## Cookie 是什麼？在 HTTP 這一層要怎麼設定 Cookie，瀏覽器又是怎麼把 Cookie 帶去 Server 的？

Cookie 是造訪過的網站所建立的檔案，可以儲存使用者的瀏覽紀錄、記住網站偏好設定等等，並利用這些資訊辨識使用者的身份。

Cookie 儲存在 Client-side，依照儲存位置可分為記憶體 Cookie 和硬碟 Cookie。記憶體 Cookie 儲存在記憶體中，瀏覽器關閉後就消失了，其存在時間是短暫的。硬碟 Cookie 儲存在硬碟裡，有一個過期時間，除非使用者手動清理，或者到了過期時間，否則硬碟 Cookie 不會被刪除，其存在時間是長期的。

HTTP 本身是無狀態的（stateless），伺服器獨立回應每一個 Request，不與其他 Request 有關聯，也就是說伺服器不知道使用者上一次做了什麼，而利用 Cookie 可以將資訊儲存在瀏覽器中。

當伺服器收到瀏覽器發送的請求後，在 Response Headers 中回傳 `Set-Cookie`，瀏覽器收到後把這些資訊儲存起來，在後續的 Request Headers 都加上 `Cookie`，這樣透過 HTTP Request 與 Response 建立有狀態的（stateful）Session 的方法，就能夠讓伺服器辨別使用者的身份，以及記住使用者的操作和設定。

> 如果在一台電腦中安裝多個瀏覽器，每個瀏覽器都會以獨立的空間存放 Cookie。因為 Cookie 中不但可以確認用戶資訊，還能包含電腦和瀏覽器的資訊，所以一個用戶使用不同的瀏覽器登入或者用不同的電腦登入，都會得到不同的 Cookie 資訊，另一方面，對於在同一台電腦上使用同一瀏覽器的多用戶群，Cookie 不會區分他們的身分，除非他們使用不同的用戶名稱登入。
> [HTTP Cookie - 維基百科，自由的百科全書](https://zh.wikipedia.org/wiki/Cookie)

## 我們本週實作的會員系統，你能夠想到什麼潛在的問題嗎？

1. 沒有針對留言的內容做處理或限制，能夠輕易被 XSS (Cross-site scripting) 攻擊
2. Cookie 中的 Name / Value 沒有經過加密，可能遭到偽造或竄改
3. 使用者輸入的密碼沒有經過加密或雜湊，萬一資料庫遭到駭客入侵，密碼將會一覽無遺
